<f:be.container includeCssFiles="{0: '{f:uri.resource(path:\'Css/style.css\')}'}" includeJsFiles="{0: '{f:uri.resource(path:\'Js/script.js\')}'}">
    <div id="typo3-docheader">
        <div class="typo3-docheader-functions">
            <div class="left">
                <div class="buttonsleft left">
                    <f:be.buttons.csh />

                    <f:be.menus.actionMenu>
                        <f:be.menus.actionMenuItem label="Compress Images" controller="File" action="list" />
                        <f:be.menus.actionMenuItem label="Optimize Structure" controller="Structure" action="list" />
                    </f:be.menus.actionMenu>
                </div>
                <f:link.action action="undo" title="Get all images back to list!">
                    <core:icon identifier="actions-edit-undo"><i class='fa fa-undo'></i></core:icon>
                </f:link.action>
            </div>
        </div>
    </div>
    <div class="tx_imgcompromizer module-body t3js-module-body">
        <h2>Compress with Tinify</h2>
        <f:flashMessages />
        <table border="1" class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>File-Name</th>
                    <th>Width</th>
                    <th>Height</th>
                    <th>Compress</th>
                    <th>Progress</th>
                </tr>
            </thead>
            <tbody>
                <f:for each="{files}" as="file" iteration="objIterator">
                    <f:form controller="File" action="update" name="file" object="{file}">
                        <tr>
                            <f:form.hidden property='uid' value='{file.uid}'/>
                            <td><f:form.textfield class='form-control' property='originalResource.identifier' value='{file.originalResource.identifier}' disabled='true'/></td>
                            <td><f:form.textfield id='width{file.uid}' class='form-control' property='txImgcompromizerWidth' value='{f:if(condition: "{file.txImgcompromizerWidth}==-1", then: "{width}", else: "{file.txImgcompromizerWidth}")}'/></td>
                            <td><f:form.textfield id='height{file.uid}' class='form-control' property='txImgcompromizerHeight' value='{f:if(condition: "{file.txImgcompromizerHeight}==-1", then: "{height}", else: "{file.txImgcompromizerHeight}")}'/></td>
                            <td><f:form.button id='btn{file.uid}' type='submit' onclick='toggleLoader({file.uid})'>Absenden</f:form.button></td>
                            <td><div id="loader{file.uid}"></div></td>
                        </tr>
                    </f:form>
                </f:for>
            </tbody>
        </table>
    </div>
</f:be.container>
